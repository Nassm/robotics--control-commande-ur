def g2_test():
  modbus_add_signal("172.18.0.2", 255, 0, 0, "MODBUS_0")
  modbus_set_signal_update_frequency("MODBUS_0", 10)
  set_analog_inputrange(0, 0)
  set_analog_inputrange(1, 0)
  set_analog_inputrange(2, 0)
  set_analog_inputrange(3, 0)
  set_analog_outputdomain(0, 0)
  set_analog_outputdomain(1, 0)
  set_tool_voltage(0)
  set_runstate_outputs([])
  set_payload(1.0)
  set_gravity([0.0, 0.0, 9.82])
  point=0
  varmsg("point",point)
  testg4=0
  varmsg("testg4",testg4)
  etape_gr5=2
  varmsg("etape_gr5",etape_gr5)
  switch=0
  varmsg("switch",switch)
  cherche_ref=0
  varmsg("cherche_ref",cherche_ref)
  var_g4=2
  varmsg("var_g4",var_g4)
  AspirationOn=1
  varmsg("AspirationOn",AspirationOn)
  while (True):
    $ 1 "Robot Program"
    $ 2 "MoveJ"
    $ 3 "avant_prise"
    movej([-0.5305515754771466, -0.7328043136530878, 1.582495626142289, -2.489677701474685, -1.5038761390707667, -2.2861107427637712], a=1.3962634015954636, v=1.0471975511965976)
    $ 4 "prise"
    movej([-0.522928406817306, -0.6951654036538417, 1.5863705682490155, -2.5836058299379916, -1.5451867210596928, -2.1200029740059847], a=1.3962634015954636, v=1.0471975511965976)
    $ 5 "Set DO[1]=Off"
    set_digital_out(1,False)
    $ 6 "step1"
    movej([-0.44837145654828525, -1.4263941954514052, 1.2229153444632788, -1.5254651933503756, -1.5657247104601968, -1.9799146592840566], a=1.3962634015954636, v=1.0471975511965976)
    $ 7 "step2"
    movej([-0.2305462787252408, -1.345858686134543, 2.166660028397856, -3.9957239366990858, -1.3787549636893193, -1.5932849656660701], a=1.3962634015954636, v=1.0471975511965976)
    $ 8 "MoveJ"
    $ 9 "avant_pose1"
    movej([0.07437023517631651, -0.9585544197104531, 1.810723119937988, -4.0266865721087655, -1.6835067631357408, -1.6033530795408322], a=1.3962634015954636, v=1.0471975511965976)
    $ 10 "pose1"
    movej([0.07453394056071999, -0.9069385102137303, 1.8207029341196392, -4.076650596614684, -1.6915743159061964, -1.6033755857997285], a=1.3962634015954636, v=1.0471975511965976)
    $ 11 "Set DO[1]=On"
    set_digital_out(1,True)
    $ 12 "step3"
    movej([0.07311101359747807, -1.2400390297986488, 1.5551047653218544, -3.4779482514138516, -1.6901517114674456, -1.603345071424172], a=1.3962634015954636, v=1.0471975511965976)
    $ 13 "step4"
    movej([-0.5439057538848191, -1.1614609040774384, 1.1001435244673896, -1.6384412362610385, -1.5027018647932415, -2.233832773385833], a=1.3962634015954636, v=1.0471975511965976)
    $ 14 "Waypoint_1"
    movej([-0.5439057538848191, -1.1614609040774384, 1.1001435244673896, -1.6384412362610385, -1.5027018647932415, -2.233832773385833], a=1.3962634015954636, v=1.0471975511965976)
    $ 15 "MoveJ"
    $ 16 "avant_prise"
    movej([-0.5305515754771466, -0.7328043136530878, 1.582495626142289, -2.489677701474685, -1.5038761390707667, -2.2861107427637712], a=1.3962634015954636, v=1.0471975511965976)
    $ 17 "prise"
    movej([-0.522928406817306, -0.6951654036538417, 1.5863705682490155, -2.5836058299379916, -1.5451867210596928, -2.1200029740059847], a=1.3962634015954636, v=1.0471975511965976)
    $ 18 "Set DO[1]=Off"
    set_digital_out(1,False)
    $ 19 "step1"
    movej([-0.44837145654828525, -1.4263941954514052, 1.2229153444632788, -1.5254651933503756, -1.5657247104601968, -1.9799146592840566], a=1.3962634015954636, v=1.0471975511965976)
    $ 20 "step2"
    movej([-0.2305462787252408, -1.345858686134543, 2.166660028397856, -3.9957239366990858, -1.3787549636893193, -1.5932849656660701], a=1.3962634015954636, v=1.0471975511965976)
    $ 21 "avant_pose2"
    movej([0.001909832086583465, -0.9732443952668353, 1.839316249327399, -4.040106025308592, -1.6111686372364247, -1.6011286343235038], a=1.3962634015954636, v=1.0471975511965976)
    $ 22 "pose2"
    movej([0.001917980920199201, -0.9157930372081874, 1.846060633630894, -4.101948911895835, -1.611204448498654, -1.60119762070223], a=1.3962634015954636, v=1.0471975511965976)
    $ 23 "Set DO[1]=On"
    set_digital_out(1,True)
    $ 24 "step3"
    movej([0.07311101359747807, -1.2400390297986488, 1.5551047653218544, -3.4779482514138516, -1.6901517114674456, -1.603345071424172], a=1.3962634015954636, v=1.0471975511965976)
    $ 25 "step4"
    movej([-0.5439057538848191, -1.1614609040774384, 1.1001435244673896, -1.6384412362610385, -1.5027018647932415, -2.233832773385833], a=1.3962634015954636, v=1.0471975511965976)
    $ 26 "avant_prise"
    movej([-0.5305515754771466, -0.7328043136530878, 1.582495626142289, -2.489677701474685, -1.5038761390707667, -2.2861107427637712], a=1.3962634015954636, v=1.0471975511965976)
    $ 27 "prise"
    movej([-0.522928406817306, -0.6951654036538417, 1.5863705682490155, -2.5836058299379916, -1.5451867210596928, -2.1200029740059847], a=1.3962634015954636, v=1.0471975511965976)
    $ 28 "Set DO[1]=Off"
    set_digital_out(1,False)
    $ 29 "step1"
    movej([-0.44837145654828525, -1.4263941954514052, 1.2229153444632788, -1.5254651933503756, -1.5657247104601968, -1.9799146592840566], a=1.3962634015954636, v=1.0471975511965976)
    $ 30 "step2"
    movej([-0.2305462787252408, -1.345858686134543, 2.166660028397856, -3.9957239366990858, -1.3787549636893193, -1.5932849656660701], a=1.3962634015954636, v=1.0471975511965976)
    $ 31 "MoveJ"
    $ 32 "avant_pose3"
    movej([-0.07964532014123608, -0.9560540203347101, 1.861163578463897, -4.078360988092246, -1.5463101632720688, -1.5994318742175786], a=1.3962634015954636, v=1.0471975511965976)
    $ 33 "pose3"
    movej([-0.07962897465878882, -0.9226984498640378, 1.8643618809029707, -4.11954328803848, -1.546287639896021, -1.6004608305550159], a=1.3962634015954636, v=1.0471975511965976)
    $ 34 "Set DO[1]=On"
    set_digital_out(1,True)
    $ 35 "step3"
    movej([0.07311101359747807, -1.2400390297986488, 1.5551047653218544, -3.4779482514138516, -1.6901517114674456, -1.603345071424172], a=1.3962634015954636, v=1.0471975511965976)
    $ 36 "step4"
    movej([-0.5439057538848191, -1.1614609040774384, 1.1001435244673896, -1.6384412362610385, -1.5027018647932415, -2.233832773385833], a=1.3962634015954636, v=1.0471975511965976)
    $ 37 "avant_prise"
    movej([-0.5305515754771466, -0.7328043136530878, 1.582495626142289, -2.489677701474685, -1.5038761390707667, -2.2861107427637712], a=1.3962634015954636, v=1.0471975511965976)
    $ 38 "prise"
    movej([-0.522928406817306, -0.6951654036538417, 1.5863705682490155, -2.5836058299379916, -1.5451867210596928, -2.1200029740059847], a=1.3962634015954636, v=1.0471975511965976)
    $ 39 "Set DO[1]=Off"
    set_digital_out(1,False)
    $ 40 "step1"
    movej([-0.44837145654828525, -1.4263941954514052, 1.2229153444632788, -1.5254651933503756, -1.5657247104601968, -1.9799146592840566], a=1.3962634015954636, v=1.0471975511965976)
    $ 41 "step2"
    movej([-0.2305462787252408, -1.345858686134543, 2.166660028397856, -3.9957239366990858, -1.3787549636893193, -1.5932849656660701], a=1.3962634015954636, v=1.0471975511965976)
    $ 42 "avant_prise4"
    movej([-0.1446405822632894, -0.9614646141293758, 1.8720036175329644, -4.08390815804078, -1.4813461193426787, -1.5973676144933093], a=1.3962634015954636, v=1.0471975511965976)
    $ 43 "pose4"
    movej([-0.14462712818239254, -0.9287836557757791, 1.8750466323333868, -4.123732961081357, -1.4813622745568047, -1.59998329514519], a=1.3962634015954636, v=1.0471975511965976)
    $ 44 "Set DO[1]=On"
    set_digital_out(1,True)
    $ 45 "step3"
    movej([0.07311101359747807, -1.2400390297986488, 1.5551047653218544, -3.4779482514138516, -1.6901517114674456, -1.603345071424172], a=1.3962634015954636, v=1.0471975511965976)
    $ 46 "step4"
    movej([-0.5439057538848191, -1.1614609040774384, 1.1001435244673896, -1.6384412362610385, -1.5027018647932415, -2.233832773385833], a=1.3962634015954636, v=1.0471975511965976)
    $ 47 "avant_prise"
    movej([-0.5305515754771466, -0.7328043136530878, 1.582495626142289, -2.489677701474685, -1.5038761390707667, -2.2861107427637712], a=1.3962634015954636, v=1.0471975511965976)
    $ 48 "prise"
    movej([-0.522928406817306, -0.6951654036538417, 1.5863705682490155, -2.5836058299379916, -1.5451867210596928, -2.1200029740059847], a=1.3962634015954636, v=1.0471975511965976)
    $ 49 "Set DO[1]=Off"
    set_digital_out(1,False)
    $ 50 "step1"
    movej([-0.44837145654828525, -1.4263941954514052, 1.2229153444632788, -1.5254651933503756, -1.5657247104601968, -1.9799146592840566], a=1.3962634015954636, v=1.0471975511965976)
    $ 51 "step2"
    movej([-0.2305462787252408, -1.345858686134543, 2.166660028397856, -3.9957239366990858, -1.3787549636893193, -1.5932849656660701], a=1.3962634015954636, v=1.0471975511965976)
    $ 52 "avant_pose5"
    movej([-0.22696710143751664, -0.9931567588038475, 1.8775259858084266, -4.058962059504605, -1.3824130741634297, -1.5936363423355473], a=1.3962634015954636, v=1.0471975511965976)
    $ 53 "pose5"
    movej([-0.22694329203414476, -0.9345039915739489, 1.8845394359505097, -4.123611884457132, -1.3908795668993212, -1.6013110513909643], a=1.3962634015954636, v=1.0471975511965976)
    $ 54 "Set DO[1]=On"
    set_digital_out(1,True)
    $ 55 "step3"
    movej([0.07311101359747807, -1.2400390297986488, 1.5551047653218544, -3.4779482514138516, -1.6901517114674456, -1.603345071424172], a=1.3962634015954636, v=1.0471975511965976)
    $ 56 "step4"
    movej([-0.5439057538848191, -1.1614609040774384, 1.1001435244673896, -1.6384412362610385, -1.5027018647932415, -2.233832773385833], a=1.3962634015954636, v=1.0471975511965976)
    $ 57 "avant_prise"
    movej([-0.5305515754771466, -0.7328043136530878, 1.582495626142289, -2.489677701474685, -1.5038761390707667, -2.2861107427637712], a=1.3962634015954636, v=1.0471975511965976)
    $ 58 "prise"
    movej([-0.522928406817306, -0.6951654036538417, 1.5863705682490155, -2.5836058299379916, -1.5451867210596928, -2.1200029740059847], a=1.3962634015954636, v=1.0471975511965976)
    $ 59 "Set DO[1]=Off"
    set_digital_out(1,False)
    $ 60 "step1"
    movej([-0.44837145654828525, -1.4263941954514052, 1.2229153444632788, -1.5254651933503756, -1.5657247104601968, -1.9799146592840566], a=1.3962634015954636, v=1.0471975511965976)
    $ 61 "step2"
    movej([-0.2305462787252408, -1.345858686134543, 2.166660028397856, -3.9957239366990858, -1.3787549636893193, -1.5932849656660701], a=1.3962634015954636, v=1.0471975511965976)
    $ 62 "avant_pose6"
    movej([-0.2972303451250538, -1.0039381025489547, 1.8822083917979862, -4.053766706399029, -1.3121091627572672, -1.590967362928025], a=1.3962634015954636, v=1.0471975511965976)
    $ 63 "pose6"
    movej([-0.2970500362092956, -0.9260589096181249, 1.8905020767972998, -4.178029745051806, -1.3121206669405288, -1.591024068368915], a=1.3962634015954636, v=1.0471975511965976)
    $ 64 "Set DO[1]=On"
    set_digital_out(1,True)
    $ 65 "step3"
    movej([0.07311101359747807, -1.2400390297986488, 1.5551047653218544, -3.4779482514138516, -1.6901517114674456, -1.603345071424172], a=1.3962634015954636, v=1.0471975511965976)
    $ 66 "step4"
    movej([-0.5439057538848191, -1.1614609040774384, 1.1001435244673896, -1.6384412362610385, -1.5027018647932415, -2.233832773385833], a=1.3962634015954636, v=1.0471975511965976)
    $ 67 "avant_prise"
    movej([-0.5305515754771466, -0.7328043136530878, 1.582495626142289, -2.489677701474685, -1.5038761390707667, -2.2861107427637712], a=1.3962634015954636, v=1.0471975511965976)
    $ 68 "prise"
    movej([-0.522928406817306, -0.6951654036538417, 1.5863705682490155, -2.5836058299379916, -1.5451867210596928, -2.1200029740059847], a=1.3962634015954636, v=1.0471975511965976)
    $ 69 "Set DO[1]=Off"
    set_digital_out(1,False)
    $ 70 "step1"
    movej([-0.44837145654828525, -1.4263941954514052, 1.2229153444632788, -1.5254651933503756, -1.5657247104601968, -1.9799146592840566], a=1.3962634015954636, v=1.0471975511965976)
    $ 71 "step2"
    movej([-0.2305462787252408, -1.345858686134543, 2.166660028397856, -3.9957239366990858, -1.3787549636893193, -1.5932849656660701], a=1.3962634015954636, v=1.0471975511965976)
    $ 72 "avant_pose7"
    movej([-0.37045610834651643, -0.9666116560388814, 1.8449014307035891, -4.0541758479863095, -1.2390046085602298, -1.5886421140243925], a=1.3962634015954636, v=1.0471975511965976)
    $ 73 "pose7"
    movej([-0.3648552211713733, -0.9145632552419446, 1.8415764624839512, -4.078923057120971, -1.2428437097010099, -1.5886678738786726], a=1.3962634015954636, v=1.0471975511965976)
    $ 74 "Set DO[1]=On"
    set_digital_out(1,True)
    $ 75 "step3"
    movej([0.07311101359747807, -1.2400390297986488, 1.5551047653218544, -3.4779482514138516, -1.6901517114674456, -1.603345071424172], a=1.3962634015954636, v=1.0471975511965976)
    $ 76 "step4"
    movej([-0.5439057538848191, -1.1614609040774384, 1.1001435244673896, -1.6384412362610385, -1.5027018647932415, -2.233832773385833], a=1.3962634015954636, v=1.0471975511965976)
    $ 77 "avant_prise"
    movej([-0.5305515754771466, -0.7328043136530878, 1.582495626142289, -2.489677701474685, -1.5038761390707667, -2.2861107427637712], a=1.3962634015954636, v=1.0471975511965976)
    $ 78 "avant_retirer"
    movej([-0.6797477677016719, -0.7608093975277878, 1.493099982575866, -2.457761083848351, -1.5038113163981297, -2.28398139766848], a=1.3962634015954636, v=1.0471975511965976)
    $ 79 "avant_retirer1"
    movej([-0.6225625873923111, -0.6308953118508118, 1.173875659661869, -0.7795967441008811, -0.6121629324255577, -2.928293499731393], a=1.3962634015954636, v=1.0471975511965976)
    $ 80 "retirer"
    movej([-0.5388226400975231, -0.7196094602969555, 1.3242583348913648, -0.9444569190915612, -0.44732452078730756, -2.822903075423343], a=1.3962634015954636, v=1.0471975511965976)
    $ 81 "Set DO[1]=Off"
    set_digital_out(1,False)
    $ 82 "jetons_tombe"
    movej([-1.05193316720419, -0.06283169348765022, -0.0020221637820430722, -0.13707709858869313, -0.8179153081291677, -3.000004896470899], a=1.3962634015954636, v=1.0471975511965976)
  end
end
